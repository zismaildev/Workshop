# Shop Loyalty Bot

ระบบสะสมแต้มร้านค้าผ่าน LINE OA โดยแยกการทำงานระหว่างฝั่ง "ลูกค้า" (Member) และ "ร้านค้า" (Merchant)

## โครงสร้างและการทำงาน
โปรเจกต์นี้รองรับ 2 Webhooks แยกกัน:
1. **Member Webhook** (`/webhooks/member`): สำหรับลูกค้า
2. **Merchant Webhook** (`/webhooks/merchant`): สำหรับเจ้าของร้าน

## ฟีเจอร์หลัก
### สำหรับลูกค้า (Member)
- **สมัครสมาชิก**: เพียงกด Follow บอท
- **เช็คคะแนน**: พิมพ์ `เช็คคะแนน` เพื่อดูแต้มสะสมปัจจุบัน

### สำหรับร้านค้า (Merchant)
- **จัดการสมาชิก**: พิมพ์ `จัดการสมาชิก` เพื่อดูรายการลูกค้าและคะแนนทั้งหมด
- **เพิ่มคะแนน**: พิมพ์ `เพิ่มคะแนน <รหัสสมาชิก> <จำนวนคะแนน>` (เช่น `เพิ่มคะแนน U1234... 100`)

## การตั้งค่า Environment Variables
ต้องกำหนดค่าแยกกันทั้งสองฝั่งในไฟล์ `.env`:
```ini
# สำหรับฝั่งร้านค้า
MERCHANT_CHANNEL_SECRET=...
MERCHANT_CHANNEL_ACCESS_TOKEN=...

# สำหรับฝั่งลูกค้า
MEMBER_CHANNEL_SECRET=...
MEMBER_CHANNEL_ACCESS_TOKEN=...
```
